{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pleyatec</title>
    <!--    <link
        href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans:ital,wght@0,700;1,400;1,700&family=Open+Sans:ital,wght@0,400;0,700;1,600&display=swap"
        rel="stylesheet">  -->
    <script src="{% static 'core/js/jquery.min.js' %}"></script>

    <link rel="stylesheet" href="{% static 'core/css/jquery.bxslider.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/jquery-confirm.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/estilos.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/sweetalert2.min.css' %}">
    <link rel="icon" type="image/x-icon" href="{% static 'core/img/favicon.png' %}">

    <!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>  -->
    <script src="{% static 'core/js/jquery-3.5.1.min.js' %}"></script>
    <script src="{% static 'core/js/jquery-confirm.min.js' %}"></script>
    <script src="{% static 'core/js/jquery.bxslider.min.js' %}"></script>
    <script src="{% static 'core/js/jquery.chained.js' %}"></script>
    <!--    <script src=" static 'core/js/menu.js' "></script>  -->
    <script src="{% static 'core/js/funciones.js' %}"></script>
    <!--  <script src="static 'core/js/bootstrap.min.js' "></script>     estas se encuentran en bootstrap.bundle.min.js   -->
    <!--  <script src="static 'core/js/popper.min.js' "></script>    estas se encuentran en bootstrap.bundle.min.js   -->
    <script src="{% static 'core/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'core/js/btn-imagen.js' %}"></script>
    <script src="{% static 'core/js/sweetalert2.all.min.js' %}"></script>
    <!--    <script src="http://momentjs.com/downloads/moment.min.js"></script>  -->
    <!--    <script src="{% static 'core/js/autoNumeric.min.js' %}"></script>
    <script src="{% static 'core/js/autoNumeric.js' %}"></script>
    <script src="{% static 'core/js/autoNumeric.min.js.map' %}"></script>
    https://cdnjs.cloudflare.com/ajax/libs/autonumeric/4.1.0/autoNumeric.min.js.map  -->


    <style>
        .scrollable-td {
           border: 1px solid #ccc; /* Borde para mayor claridad */
        }

        .scrollable-content {
            max-height: 300px; /* Altura máxima del contenido */
            overflow-y: auto;  /* Habilita el scroll vertical si es necesario */
        }
    </style>

    <!-- Jquery Confirm -->
    {% block blcss %}

    {% endblock %}

</head>

<body style="background-color: darkgrey;">
    <div>
        <div class="mapa">
            <table style="background-color: transparent;">
                <tbody style="background-color: transparent;">
                    <tr style="background-color: transparent;" >
                        <td class="col-6" style="background-color: transparent;">
                            <div style="background-color: transparent; vertical-align: middle;">
                                <label
                                    style="font-size: 30px; color: white; background-color: transparent;">
                                    "EL GALLO"
                                </label>
                            </div>
                        </td>
                        <td class="col-1" style="background-color: transparent;"></td>
                        <td class="col-5" style="background-color: transparent;">
                            <div class="col-12 row align-items-center">
                                <div class="row col-12 d-flex justify-content-center align-items-center">
                                    <div class="col-3 d-flex justify-content-center">
                                        {% if user.is_authenticated %}
                                        <a href="{% url 'cambia_contrasena'%}" style="color:gold; width: 40px;" class="col-12"
                                            title="Cambio de contraseña">
                                            <svg width="32" height="32" fill="currentColor" class="bi bi-key"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z" />
                                                <path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
                                            </svg>
                                        </a>
                                        {% endif %}
                                    </div>
                                    <div class="col-6 d-flex justify-content-center text-center">
                                        {% if user.is_authenticated %}
                                        <a href="{% url 'cambia_contrasena'%}" style="color:gold; width: 80px;" class="col-12"
                                            title="Cambio de contraseña">{{ user.username }}
                                        </a>
                                        {% endif %}
                                    </div>
                                    <div class="col-3 d-flex justify-content-center">
                                        {% if user.is_authenticated %}
                                        <a href="{% url 'logout'%}" title="Salir" class="text-center mx-auto" style="width: 40px;">
                                            <img src="{% static 'core/img/logout.svg' %}" width="32" />
                                        </a>
                                        {% else %}
                                        <a href="{% url 'login'%}" title="Entrar"  class="text-center mx-auto" style="width: 40px;">
                                            <img src="{% static 'core/img/login.svg' %}" width="32" />
                                        </a>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        {% block contenido %}

        {% endblock %}

    </div>

    <script>
        //        $(function () {
        //            setInterval(function(){
        //                window.location.reload(1);
        //            }, 310000);
        //        });
    </script>

    <script>
        const numberFormat2 = new Intl.NumberFormat('en-MX', { style: 'decimal', 'fraction': '00' });
        function reformatear(obj) {
            objeto = "#" + obj;
            valor = $(objeto).val().replaceAll(",", "").replaceAll(",", "");
            $(objeto).val(numberFormat2.format(valor));
        }
        function valideKey(evt) {
            var code = (evt.which) ? evt.which : evt.keyCode;
            var value = evt.target.value;
            var hasDecimal = (value.indexOf('.') !== -1);
            if ((code >= 48 && code <= 57) || (code == 46 && !hasDecimal)) {
                return true;
            } else {
                return false;
            }
        }
        function convierteNumero(campo, opcion) {
            deCampo = "#" + campo;
            if ($(deCampo).val() != null) {
                if (opcion == 0) {
                    a = parseFloat($(deCampo).val().replace(",", "").replace(",", ""));
                } else {
                    a = parseFloat($(deCampo).val().replace(",", "").replace(",", "")).toFixed(2);
                }
            } else {
                a = 0;
            }
            resultado = 0;
            if ((isNaN(a)) || (a == null)) {
                resultado = 0;
            } else {
                resultado = a;
            }
            return resultado;
        }
        function verDato(campo) {
            deCampo = "#id_" + campo;
            alert(campo + " : " + $(deCampo).val());
        }
        function validaNumero(campo) {
            if (isNaN(campo) || campo == "" || campo == 0) {
                return false;
            }
            return true;
        }
        function validaCadena(campo) {
            if (isNaN(campo) || campo.trim() == "") {
                return false;
            }
            return true;
        }
        {% block bljs %}

        {% endblock %}
        $(document).ready(function () {
            $('.slider').bxSlider({
                mode: 'fade',//horizontal, vertical, fade
                auto: true,
                pause: 3000
            });
            {% block inicio %}

            {% endblock %}
        });
    </script>
</body>

</html>